---
title: Standard document generation 
description: "Generate documents with templates using facts or transcripts"
---

## Overview

In the Corti API, Templates define the structure for document that are generated by Corti Ensemble and Corti Symphony foundation models from various inputs, such as conversational transcripts, facts, or other medical documents. 

Templates are available in different languages and can be specific to your organization. Each template includes sections that set the structure (e.g., SOAP Note template consists of the four sections Subjective, Objective, Assessment and Plan), and a writing style and documentation format is defined for each section. This ensures consistency, clarity, and control in use of AI to support medical reporting.

This page explains the standard workflow for generating documents from facts or transcripts. 


## Using Templates to Generate Documents

**Steps to Generate a Document**
1. **Review and Finalize Data**: After the live session, the client can review and make final edits to the facts collected during the interaction. These finalized facts will be used to generate the document. 
2. **Make a POST Request**: Send a `POST` request to the `/interactions/{id}/documents` endpoint, and include the finalized facts, `templateKey`, and `language` in the request payload. 
    * The 'templateKey' parameter defines the format of the output document.
    * The 'language' parameter defines the language the output note will be written in. 
    * Please see [this page](/about/languages) for a list of supported language codes.
    * Use the `GET /templates` request to see available templates; add `?lang=` to the request to filter for available languages. 
3. **Processing the Request and Receiving the Document**: The API processes the submitted data, applying the specified template to generate the structured document. If the request is successful, the API returns a `200 OK` status along with the formatted document.
4. **Mark Interaction as Completed (optional)**: If this marks the end of the encounter, the client can update the interaction status by sending a `PATCH` request to `/interactions/{id}`, setting the interaction state to `"completed"`.

<Card>
 ```mermaid
       sequenceDiagram
       participant Client
       participant Public API

       Client->>Client: Makes final edits to facts
       Client->>Public API: POST /documents with final facts list and templateKey
       Public API-->>Client: Return document

       opt Update status of interaction
       Client ->> Public API: PATCH /interactions/{id} "completed"
       Public API -->> Client: 200, interaction
       end
    ```
</Card>

This sequence diagram refers to using the live, real-time fact generation workflow and generating a document from the final facts list. You can also use the final transcript as input context, see further below for more details.

### Generate document from facts vs. from transcript

For the typical ambient documentation workflow, summary documentation can be generated either on the basis of facts or the transcript. If your integration is centered around facts, those would typically have been generated automatically during the live stream (`source: core`) but you might have also created facts to pipe over relevant pre-chart information, e.g. demographics (`source: system`), or have given the clinician the ability to add and edit live notes (`source: user`). In the end, you decide which facts to use as the basis to generate a document.

Let's look at the differences in the request payload when generating a document on the basis of facts vs. a transcript:

  <CodeGroup>
```bash Document from facts - static template [expandable]
  curl --request POST \
  --url https://api.$environment.corti.app/v2/interactions/$id/documents \
  --header 'Authorization: Bearer <token>' \
  --header 'Tenant-Name: <tenantname>' \
    --header 'Content-Type: application/json' \
    --data '{
    "context": [
      {
        "type": "facts",
        "data": [
          {
            "text": "32 year-old female",
            "group": "demographics",
          "source": "system" # example of a fact that was created via REST
          },
          {
            "text": "itchy rash, started last week",
            "group": "history-of-present-illness",
          "source": "core" # fact generated by Corti LLM during stream
          },
          {
            "text": "allergic to birch pollen since childhood",
            "group": "allergies",
            "source": "core"
          },
          {
            "text": "typical eczema appearance",
            "group": "assessment",
            "source": "core"
          },
          {
            "text": "corticosteroid treatment, follow-up in 4 weeks",
            "group": "plan",
          "source": "user" # a fact edited by the end user
          }        
        ]
      }
    ],
    "templateKey": "soap",
    "name": "Soap note summary: itchy rash",
  "outputLanguage": "en-US" # BCP-47 code
  }'
  ```

  ```bash Document from transcript - static template [expandable]
  curl --request POST \
  --url https://api.$environment.corti.app/v2/interactions/$id/documents \
  --header 'Authorization: Bearer <token>' \
  --header 'Tenant-Name: <tenantname>' \
    --header 'Content-Type: application/json' \
    --data '{
    "context": [
      {
        "type": "transcript",
      "data":
          {
            "text": "tell me a bit about what’s been going on? When did you first start feeling unwell?\n\n- Erm, I think it was, uh, probably about, like, a week ago? I just started feeling a bit, you know, off—like, uh, tired and achey. Then my throat got really sore, and it, uh, just didn’t get any better.\n\n- Right, okay. And when you say achey, was it more like muscle aches, or, uh, like, joint pain?\n\n- Um, mostly muscles, like, all over? Especially my legs and back. I just, like, wanted to stay in bed. And the sore throat, it’s, um, like, scratchy but also kinda raw, if that makes sense?\n\n- Yeah, it does. Have you had any fever? Like, have you felt hot or shivery at all?\n\n- Oh, yeah, definitely. A couple nights I woke up, uh, like, proper drenched in sweat. Then, uh, during the day, I'd get really cold even with a jumper on.\n\n- Mm-hmm. What about your nose? Any congestion or runny nose?\n\n- Uh, not really, no. Just, like, a tiny bit blocked, but mostly it's my throat and, uh, feeling knackered, really.\n\n- And are you coughing at all? Like, a dry cough or anything productive, like, bringing up phlegm?\n\n- Yeah, um, a bit of a cough, kinda dry. It’s worse at night, actually. Like, when I lie down, I start, uh, coughing more."
          }
      }
    ],
    "templateKey": "brief-clinical-note",
    "name": "test brief note from transcript",
  "outputLanguage": "en" # BCP-47 code
  }'
  ```
  </CodeGroup>
